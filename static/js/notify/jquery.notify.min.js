/*
 * jQuery Notify UI Widget 1.2.1
 * Copyright (c) 2010 Eric Hynds
 *
 * http://www.erichynds.com/jquery/a-jquery-ui-growl-ubuntu-notification-widget/
 *
 * Depends:
 *   - jQuery 1.4
 *   - jQuery UI 1.8 (core, widget factory)
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
*/
(function(d){d.widget("ui.notify",{options:{speed:500,expires:5E3,stack:"below"},_create:function(){var a=this;this.templates={};this.keys=[];this.element.addClass("ui-notify").children().addClass("ui-notify-message").each(function(b){b=this.id||b;a.keys.push(b);a.templates[b]=d(this).removeAttr("id").wrap("<div></div>").parent().html()}).end().empty()},create:function(a,b,c){if(typeof a==="object"){c=b;b=a;a=null}return(new d.ui.notify.instance(this))._create(b,d.extend({},this.options,c),this.templates[a||
this.keys[0]])}});d.extend(d.ui.notify,{instance:function(a){this.parent=a;this.isOpen=false}});d.extend(d.ui.notify.instance.prototype,{_create:function(a,b,c){this.options=b;var e=this;c=c.replace(/#\{(.*?)\}/g,function(g,h){return h in a?a[h]:""});c=this.element=d(c);var f=c.find("a.ui-notify-close");if(this._trigger("beforeopen")!==false){typeof this.options.click==="function"&&c.addClass("ui-notify-click").bind("click",function(g){e._trigger("click",g,e)});if(f.length&&b.expires)f.remove();else f.length&&
f.bind("click",function(){e.close();return false});this.open();typeof b.expires==="number"&&window.setTimeout(function(){e.close()},b.expires);return this}},close:function(){var a=this,b=this.options.speed;this.isOpen=false;this.element.fadeTo(b,0).slideUp(b,function(){a._trigger("close")});return this},open:function(){if(this.isOpen)return this;var a=this;this.isOpen=true;this.element[this.options.stack==="above"?"prependTo":"appendTo"](this.parent.element).css({display:"none",opacity:""}).fadeIn(this.options.speed,
function(){a._trigger("open")});return this},widget:function(){return this.element},_trigger:function(a,b,c){return this.parent._trigger.call(this,a,b,c)}})})(jQuery);
